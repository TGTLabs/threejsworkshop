<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script>
      // I am a single-line comment
      /* I am a multi-line comment.
      Everything will be comment until */

			// Our Javascript will go here.

      /* ==========================================
              Three.js needs to be initialized
         ========================================== */

      // Create a scene and store this scene object as variable "scene"
      var scene = new THREE.Scene();

      // Create a perspective camera and set to:
      //   a. 75 degree FOV (Field of view)
      //   b. Aspect ratio as screen width divided by screen height (since the entire screen is our canvas)
      //   c. 0.1 unit near clipping
      //   d. 1000 unit far clipping
      //   (note: objects further away from the camera than the value of far or closer than near won't be rendered)
      // and store this camera object as variable "camera"
      var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

      // Create a WebGL renderer and store this renderer as variable "renderer"
      var renderer = new THREE.WebGLRenderer();
      // Render in full screen size
      renderer.setSize( window.innerWidth, window.innerHeight );

      // Add render to the page(body)
      document.body.appendChild( renderer.domElement );

      /* ==========================================
                  Let the magic begin
         ========================================== */

      // Create a BoxGeometry (set as 1 by 1 by 1) and store this object as "geometry"
      var geometry = new THREE.BoxGeometry( 1, 1, 1 );
      // Create a MeshBasicMaterial (set color to red) and store this object as "material"
      var material = new THREE.MeshBasicMaterial( { color: 0xCC0000 } );

      /* ==========================================
                    Adventure Time!
         ========================================== */
      // Play around with the settings here, make it bigger, make it smaller, make it rectangular, change the color, save it and refresh the page. Voila!

      // Create a Mesh with "geometry" and "material" and store this object as "cube"
      var cube = new THREE.Mesh( geometry, material );
      // Add "cube" to "scene"
      scene.add( cube );

      // Set the "camera"'s z axis position to 5 unit (Note that the initial position will be 0, 0, 0 that's why x and y are not set)
      camera.position.z = 5;

      var animate = function () {
        // Tell the browser that I want the function "animate" to be called again the next frame
        requestAnimationFrame( animate );

        // Rotate the "cube" 0.01 degree around x axis
        cube.rotation.x += 0.01;
        // Rotate the "cube" 0.01 degree around y axis
        cube.rotation.y += 0.01;

        /* ==========================================
             Adventure Time! (Technical Interview)
           ========================================== */
        // Q: Knowing that:
        //   a. To move the cube to the left for one unit on x axis, you set "cube.position.x = cube.position.x - 1;"
        //   b. To move the cube to the right for one unit on x axis, you set "cube.position.x = cube.position.x + 1;"
        //   c. "Math.random()" returns a random number between 0 (inclusive) and 1 (exclusive);
        // How do you make the cube dance around the screen?
        // (Extra credit) How do you make the cube bounce left and right?
        //
        // A: Write your code here:

        // Tell the "renderer" to render a new image of the "scene", from "camera"
        renderer.render( scene, camera );
      };

      // Call "animate" for the first time.
      animate();

			// sky
			// var skyGeometry = new THREE.SphereGeometry( 100, 60, 40 );
			var skyGeometry = new THREE.CylinderGeometry(5, 5, 20, 32);
			skyGeometry.applyMatrix( new THREE.Matrix4().makeScale( -1, 1, 1 ) );
			var skyTexture = new THREE.TextureLoader().load('img/pano.jpg');
			var skyMaterial = new THREE.MeshBasicMaterial( { map : skyTexture } );
			var sky = new THREE.Mesh( skyGeometry, skyMaterial );
			sky.rotation.x = 0;
			sky.rotation.y = 0;
			scene.add( sky );

			// shuttle

		</script>
	</body>
</html>
